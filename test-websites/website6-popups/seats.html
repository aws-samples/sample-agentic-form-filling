<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seat Selection - AnyCompany Popups</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body data-page="seats">
  <!-- Promotional Overlay Popup - Appears after delay -->
  <div class="promo-overlay" id="promo-overlay">
    <div class="promo-modal">
      <button class="promo-close" onclick="closePromoOverlay()" aria-label="Close">&times;</button>
      <div class="promo-badge">LIMITED TIME</div>
      <h2>üéâ Exclusive Upgrade Offer!</h2>
      <p>Upgrade to <strong>Premium Economy</strong> for only <span class="promo-price">$99</span> per person!</p>
      <ul class="promo-features">
        <li>‚úì Extra legroom seats</li>
        <li>‚úì Priority boarding</li>
        <li>‚úì Premium meal service</li>
        <li>‚úì 2 checked bags included</li>
      </ul>
      <div class="promo-timer">
        Offer expires in: <span id="promo-countdown">04:59</span>
      </div>
      <div class="promo-buttons">
        <button class="btn btn-secondary" onclick="closePromoOverlay()">No Thanks</button>
        <button class="btn btn-promo" onclick="acceptPromoOffer()">Upgrade Now!</button>
      </div>
    </div>
  </div>

  <!-- Seats becoming unavailable notification -->
  <div class="seat-alert" id="seat-alert">
    <div class="alert-icon">‚ö†Ô∏è</div>
    <div class="alert-content">
      <strong>Seats are filling up fast!</strong>
      <span id="alert-message">Seat 12A was just taken by another passenger</span>
    </div>
    <button class="alert-close" onclick="closeSeatAlert()">&times;</button>
  </div>

  <header class="header">
    <div class="logo">
      <span class="logo-icon">üåä</span>
      <span class="logo-text">AnyCompany Popups</span>
    </div>
    <nav>
      <a href="#">Book</a>
      <a href="#" class="active">Check-in</a>
      <a href="#">My Trips</a>
      <a href="#">Help</a>
    </nav>
  </header>

  <div class="progress-bar">
    <div class="step completed">1. Login</div>
    <div class="step completed">2. Passengers</div>
    <div class="step active">3. Seats</div>
    <div class="step">4. Baggage</div>
    <div class="step">5. Confirm</div>
  </div>

  <main class="container">
    <div class="flight-summary">
      <div class="flight-info">
        <span class="flight-number">PS789</span>
        <span class="flight-route">SFO ‚Üí HNL</span>
        <span class="flight-date">Feb 15, 2025 ‚Ä¢ 08:30</span>
      </div>
      <div class="upgrade-badge" id="upgrade-badge" style="display: none;">
        ‚≠ê Premium Economy
      </div>
    </div>

    <div class="seats-container">
      <div class="passenger-selector">
        <h3>Select Passenger</h3>
        <div id="passenger-tabs">
          <!-- Rendered by JS -->
        </div>
      </div>

      <div class="seat-map-section">
        <h3>Choose Your Seat</h3>
        <div class="seat-map-wrapper">
          <div class="aircraft-nose">
            <div class="cockpit"></div>
          </div>
          <div id="seat-map">
            <!-- Rendered by JS -->
          </div>
          <div class="aircraft-tail"></div>
        </div>

        <div class="seat-legend">
          <div class="legend-item"><span class="seat-sample available"></span> Available</div>
          <div class="legend-item"><span class="seat-sample selected"></span> Your Selection</div>
          <div class="legend-item"><span class="seat-sample occupied"></span> Occupied</div>
          <div class="legend-item"><span class="seat-sample premium"></span> Premium (+$35)</div>
          <div class="legend-item"><span class="seat-sample exit"></span> Exit Row (+$45)</div>
        </div>
      </div>

      <div class="selection-panel">
        <h3>Your Selection</h3>
        <div id="selection-summary">
          <!-- Rendered by JS -->
        </div>
        <div class="selection-total">
          <span>Seat Total:</span>
          <span id="seat-total">$0</span>
        </div>
      </div>
    </div>

    <div class="button-row">
      <button class="btn btn-secondary" onclick="window.location.href='passengers.html'">Back</button>
      <button class="btn btn-primary" id="continue-btn" onclick="handleContinue()" disabled>Continue to Baggage</button>
    </div>
  </main>

  <!-- Seat confirmation modal -->
  <div class="modal-overlay" id="seat-modal">
    <div class="modal">
      <h3>Confirm Seat Selection</h3>
      <p id="seat-modal-message">Select seat 12A for Mateo Jackson?</p>
      <div class="seat-details" id="seat-modal-details">
        <!-- Seat features listed here -->
      </div>
      <div class="modal-buttons">
        <button class="btn btn-secondary" onclick="closeSeatModal()">Cancel</button>
        <button class="btn btn-primary" onclick="confirmSeatSelection()">Confirm</button>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
